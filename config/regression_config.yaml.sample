# This is a sample configuration file for the regression reporter.
# Copy this file to "regression_config.yaml" and edit it with your settings.

# Fix version for the release
fix_version: "APP 25.08-R2"

# SLA configuration in business days
sla:
  P0: 1
  P1: 2
  P2: 5
  P3: 10
  P4: 20

# List of US holidays in YYYY-MM-DD format
us_holidays:
  - "2024-01-01"
  - "2024-01-15"
  - "2024-02-19"
  - "2024-05-27"
  - "2024-06-19"
  - "2024-07-04"
  - "2024-09-02"
  - "2024-11-28"
  - "2024-12-25"

# Configuration for regression SLA reports
# --- JQL Templates ---
# These templates define the base JQL queries and clauses for dynamic construction.
jql_templates:
  # Base JQL template for all reports.
  base_jql_template: "type IN (Bug, \"Prod Defect\") AND fixVersion = \"{fix_version}\""

  # Clauses for different platform/selling channel combinations.
  platform_selling_channel_clauses:
    "MAPP iOS": "AND \"Selling Channel\" = \"Macys Digital\" AND platforms = \"App iOS\" AND project IN (\"MobileApp Regression\",\"Delivery & Release\")"
    "MAPP Android": "AND \"Selling Channel\" = \"Macys Digital\" AND platforms = \"App Android\" AND project IN (\"MobileApp Regression\",\"Delivery & Release\")"
    "BAPP iOS": "AND \"Selling Channel[Select List (multiple choices)]\" = \"Bloom Digital\" AND \"Found In[Radio Buttons]\" = \"Regression Testing\""

  # Clauses for different status filters.
  status_clauses:
    "not_closed_cancelled": "AND status not in (\"Ready for Release\", \"Ready for Showcase\", Closed, Done, Canceled)"
    "closed_cancelled": "AND status in (Closed, Canceled)"

# --- Report Definitions ---
# This section defines the available report names and their associated JQL construction parameters.
reports:
  - name: "Open Regressions"
    platform_selling_channel_key: "" # Empty string means no specific platform filter
    status_filter_key: "not_closed_cancelled"
  - name: "Closed Regressions"
    platform_selling_channel_key: ""
    status_filter_key: "closed_cancelled"
  - name: "MAPP iOS"
    platform_selling_channel_key: "MAPP iOS"
    status_filter_key: "not_closed_cancelled"
  - name: "MAPP Android"
    platform_selling_channel_key: "MAPP Android"
    status_filter_key: "not_closed_cancelled"
  - name: "BAPP iOS"
    platform_selling_channel_key: "BAPP iOS"
    status_filter_key: "not_closed_cancelled"

# Email recipients for the report
email_recipients:
  app_leadership:
    - "leader1@example.com"
    - "leader2@example.com"
  regression_team:
    - "regression_tester1@example.com"
  tech_leads:
    - "tech_lead1@example.com"
  scrum_masters:
    - "scrum_master1@example.com"
  all_app_teams:
    - "team_member1@example.com"
    - "team_member2@example.com"



# Team email distribution lists
team_email_distros:
  "ACM": ["acm-team@example.com"]
  "APT": ["apt-team@example.com"]
  "APLT": ["aplt-team@example.com"]
  "ALPR": ["alpr-team@example.com"]
